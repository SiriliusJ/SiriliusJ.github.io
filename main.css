:root{
  --maxw: 900px;
  --accent: #111827;
  --fg: #111;
  --muted: #666;
  --line: #e8e8e8;
  --chip-bg: #f5f5f5;
  --radius: 12px;
  --shadow: 0 6px 18px rgba(0,0,0,.06);
}

*{box-sizing:border-box}
html{scroll-behavior:smooth}
body{margin:0;font:16px/1.65 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;color:var(--fg);background:#fff}

.wrapper{max-width:var(--maxw);margin:0 auto;padding:0 18px}
.section{padding:36px 0;border-bottom:1px solid var(--line);scroll-margin-top:86px}
.section-title{display:flex;align-items:center;gap:10px;margin:0 0 12px;line-height:1.2}
h1,h2,h3{margin:0 0 10px}
.muted{color:var(--muted)}
.list{padding-left:18px}
.chip{display:inline-block;padding:4px 10px;border-radius:999px;background:var(--chip-bg);text-decoration:none;color:#333}
.placeholder{height:28px;display:flex;align-items:center;padding:0 8px;border-radius:8px;background:#f5f5f5;color:#888}

/* Header */
.site-header{position:sticky;top:0;background:#fff;border-bottom:1px solid var(--line);z-index:20}
.site-nav{display:flex;align-items:center;gap:16px;flex-wrap:wrap;min-height:60px}
.brand{font-weight:800;color:#000;text-decoration:none;font-size:clamp(16px,1.8vw,20px);line-height:1.2}
.page-link{color:#333;text-decoration:none;margin-left:8px}
.page-link:hover{color:#000}
.nav-right{display:flex;align-items:center;margin-left:auto;gap:10px;flex-wrap:wrap}
.lang-switch{display:flex;align-items:center;gap:6px;border:1px solid var(--line);border-radius:8px;padding:4px 8px;background:#fff}
.lang-switch .sep{color:#aaa}
.lang-btn{border:0;background:transparent;cursor:pointer;color:#333;padding:0 2px}
.lang-btn.active{font-weight:700;color:#000}

/* Cover */
.cover{position:relative;border-bottom:1px solid var(--line)}
.cover-bg{height:220px;background:#f6f7f9 center/cover no-repeat}
.profile-wrapper{background:#fff;margin:-60px auto 0;max-width:var(--maxw);border:1px solid var(--line);border-radius:var(--radius);box-shadow:var(--shadow);padding:16px;display:grid;grid-template-columns:120px 1fr;gap:16px}

/* Avatar: keep aspect ratio, no crop */
.avatar{
  width:120px;
  height:auto;
  object-fit:contain;
  border-radius:16px;
  border:1px solid var(--line);
  background:#fff;
}

.name{font-weight:800;font-size:clamp(20px,3vw,26px);letter-spacing:.2px;overflow-wrap:anywhere}
.subtitle{color:var(--muted);margin-top:2px}
.social-media{display:flex;gap:10px;margin-top:10px}
.icon-button{display:inline-flex;align-items:center;justify-content:center;width:36px;height:36px;border-radius:9px;background:var(--chip-bg);color:#333;text-decoration:none}
.icon-button:hover{filter:brightness(.96)}

/* Bio */
.bio-intro{margin-bottom:16px}
.grid-2-edu{display:grid;grid-template-columns:1.35fr 0.65fr;gap:18px}
.card{border:1px solid var(--line);border-radius:10px;padding:14px;background:#fff}
.card-title{display:flex;align-items:center;gap:8px;margin:0 0 6px}
.bullet{margin:8px 0 0}

/* Education */
.edu-list{list-style:none;padding:0;margin:0}
.edu-item{display:grid;grid-template-columns:1fr auto;grid-template-areas:"main dates";gap:6px 12px;align-items:baseline;padding:10px;border:1px solid var(--line);border-radius:8px;background:#fff;margin-bottom:8px}
.edu-item.with-notes{grid-template-areas:"main dates" "notes notes"}
.edu-main{grid-area:main}
.edu-dates{grid-area:dates;color:var(--muted);white-space:nowrap;text-align:right}
.edu-notes{grid-area:notes;color:var(--muted)}
.edu-inst{font-weight:700}
.edu-degree{color:#333}
.edu-sublist{margin:4px 0 0 18px}

/* Timeline (Experience page) */
.timeline{display:grid;gap:10px}
.timeline-item{display:grid;grid-template-columns:120px 1fr;gap:12px;padding:10px;border:1px solid var(--line);border-radius:10px;background:#fff}
.timeline-date{color:var(--muted)}
.timeline-title{font-weight:700}
.timeline-desc{color:#333}

/* Publications */
.pub-list{display:grid;gap:14px}
.pub{display:grid;grid-template-columns:140px 1fr;gap:14px;border:1px solid var(--line);border-radius:10px;background:#fff;padding:14px}
.pub-thumb{width:100%;height:100px;object-fit:cover;border-radius:8px;background:#f2f2f2}
.pub-title{font-weight:700;margin-bottom:4px}
.pub-desc{color:#333;margin-bottom:6px}
.pub-authors{font-size:.95rem;margin-bottom:6px}
.pub-venue .venue{background:var(--chip-bg);padding:2px 8px;border-radius:999px}
.pub-links .tag{color:var(--accent);text-decoration:none}
.pub-links .tag:hover{text-decoration:underline}

/* Awards */
.award-list{list-style:none;padding:0;margin:0}
.award-item{display:grid;grid-template-columns:1fr auto;gap:6px 12px;align-items:baseline;padding:12px 10px;border-bottom:1px solid var(--line)}
.award-main{min-width:0}
.award-title{font-weight:700}
.award-desc{color:#444}
.award-date{color:var(--muted);white-space:nowrap;text-align:right}

/* Coursework page */
.cw-page main.wrapper{padding-top:24px}
.cw-block{margin:24px 0}
.cw-block h3{display:flex;justify-content:space-between;align-items:baseline;margin:0 0 8px}
.cw-dates{color:var(--muted);font-size:.95rem}
.cw-list{margin:0;padding-left:18px}
.cw-list li{margin:2px 0;}               /* 更舒适的行距 */
.cw-subtitle{font-weight:700;margin:12px 0 6px}
.cw-subtitle-mini{font-weight:700;margin:12px 0 6px;color:#333}

/* ✅ One-column container for disciplines */
.cw-onecol{display:block}

/* Small gray tag for inline notes */
.tag-gray{
  display:inline-block;
  margin-left:6px;
  padding:2px 6px;
  font-size:12px;
  color:#555;
  background:#f1f1f1;
  border:1px solid #e5e5e5;
  border-radius:999px;
}

/* Inline muted note (e.g., seminar details) */
.cw-note{color:#666;font-style:italic}

/* Misc cards & gallery */
.card-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:14px}
.card-thumb{width:100%;height:120px;object-fit:cover;border-radius:8px;background:#f2f2f2}
.card-body{margin-top:8px}
.card-links a{color:var(--accent);text-decoration:none}
.card-links a:hover{text-decoration:underline}
.gallery{display:grid;grid-template-columns:repeat(4,1fr);gap:8px}
.gallery img{width:100%;height:120px;object-fit:cover;border-radius:8px;background:#f2f2f2}

/* PC build spec block */
.pc-spec{
  margin-top:6px;
}

/* Top & footer */
.top{text-align:right;margin:18px 0}
.site-footer{border-top:1px solid var(--line);padding:18px 0;margin-top:24px}
.footer-inner{display:flex;align-items:center;gap:16px;justify-content:space-between}
.footer-text{color:var(--muted)}
.back-to-top{position:fixed;right:20px;bottom:24px;display:none;align-items:center;justify-content:center;width:44px;height:44px;border-radius:12px;background:#111827;color:#fff;cursor:pointer;box-shadow:var(--shadow);font-weight:700}

/* Print */
@media print{
  .site-header,.back-to-top{display:none}
  .section{border:0;padding:18px 0}
  .wrapper{max-width:none}
}

/* Responsive */
@media (max-width:960px){
  .nav-right{width:100%;order:3;justify-content:flex-start}
}
@media (max-width:760px){
  .profile-wrapper{grid-template-columns:80px 1fr}
  .avatar{width:80px;height:auto;border-radius:12px}
  .grid-2-edu{grid-template-columns:1fr}
  .pub{grid-template-columns:1fr}
  .timeline-item{grid-template-columns:90px 1fr}
  .card-grid{grid-template-columns:1fr 1fr}
  .gallery{grid-template-columns:1fr 1fr}
}

/* —— Coursework: clickable course row —— */
.cw-course summary {
  display: flex; align-items: baseline; gap: 8px;
  cursor: pointer; list-style: none;
}
.cw-course summary::-webkit-details-marker { display: none; }  /* 隐藏默认三角 */

.cw-title { font-weight: 600; }

/* 等价小气泡（≈ …）——你已有 tag-gray，这里专门用于“等价/覆盖范围” */
.tag-eq{
  display:inline-block; margin-left:6px; padding:2px 8px;
  font-size:12px; border-radius:999px; white-space:nowrap;
  background:#eef2ff; border:1px solid #c7d2fe; color:#1f2937;
}

/* 右侧小箭头 */
.cw-caret { margin-left: auto; color:#6b7280; transition: transform .15s; }
.cw-more[open] .cw-caret { transform: rotate(180deg); }

/* 展开后的内容 */
.cw-body { margin-top: 6px; }
.cw-subtopics{ margin:4px 0 4px 18px; padding:0; }
.cw-subtopics li{ margin:1px 0; }
.cw-note{ color:#555; font-style:italic; }

/* Textbooks list (line-broken, compact) */
.cw-books{ margin:4px 0 6px 18px; padding:0; }
.cw-books li{ margin:2px 0; list-style:disc; }

/* 链接在“描述行”里的外观与可读性 */
.ext-link{ color:inherit; text-decoration:underline; text-underline-offset:2px }
.ext-link:hover{ text-decoration:underline }

/* 绿色标签（类似你课程页的蓝/灰芯片） */
.tag-green{
  display:inline-block; margin-left:8px; padding:2px 8px;
  font-size:12px; border-radius:999px; white-space:nowrap;
  background:#dcfce7; border:1px solid #86efac; color:#065f46;  /* 浅绿 + 深绿字 */
}

/* 更紧凑的列表行距（用于 Services 分组） */
.tight-list li{ margin:2px 0; }

/* Skills 行：chip 自动换行 */
.skill-line{ display:flex; flex-wrap:wrap; gap:6px; margin:4px 0; }

/* Languages 卡片式三列（小屏改为两列/一列） */
.lang-grid{
  display:grid; gap:18px; grid-template-columns:repeat(3,1fr);
  border:1px solid var(--line); border-radius:12px; padding:18px;
  background:#fff;
}
.lang-item{ padding:6px 8px; }
.lang-name{ color:#111; font-weight:700; font-size:20px; margin-bottom:4px; }
.lang-level{ color:#111; font-weight:600; }

@media (max-width:900px){ .lang-grid{ grid-template-columns:repeat(2,1fr);} }
@media (max-width:560px){ .lang-grid{ grid-template-columns:1fr; } }

/* ===== Milestone timeline ===== */
.mls{ position:relative; padding:10px 0 4px; }
.mls-axis{
  position:absolute; left:50%; top:0; bottom:0;
  width:2px; background:var(--line);
}
.mls-item{ position:relative; margin:18px 0; }
.mls-item::after{ content:""; display:block; clear:both; }

.mls-dot{
  position:absolute; left:50%; top:10px; transform:translateX(-50%);
  width:10px; height:10px; border-radius:50%; background:#111; box-shadow:0 0 0 3px #fff;
}

/* content cards */
.mls-card{ max-width:46%; }
.side-left  .mls-card{ float:left;  text-align:right; padding-right:24px; }
.side-right .mls-card{ float:right; text-align:left;  padding-left:24px; }

.mls-date{ color:#374151; font-weight:700; margin-bottom:4px; }
.mls-title{ font-weight:700; }
.mls-desc{ color:#4b5563; }

/* colored badges */
.mls-badge{
  display:inline-block; margin-right:8px; padding:2px 8px; font-size:12px;
  border-radius:999px; border:1px solid transparent; white-space:nowrap;
}
.is-award    { background:#fff7ed; border-color:#fdba74; color:#9a3412; }   /* orange */

/* responsive: stack left/right into one column */
@media (max-width:760px){
  .mls-axis{ left:18px; }
  .mls-dot{ left:18px; transform:none; }
  .mls-card{ float:none; max-width:none; padding-left:36px; padding-right:0; text-align:left; }
}

/* ===== Milestone: structure ===== */
.mls{ position:relative; padding:10px 0 4px; }
.mls-axis{ position:absolute; left:50%; top:0; bottom:0; width:2px; background:var(--line); }
.mls-item{ position:relative; margin:18px 0; }
.mls-item::after{ content:""; display:block; clear:both; }
.mls-dot{
  position:absolute; left:50%; top:10px; transform:translateX(-50%);
  width:10px; height:10px; border-radius:50%; background:#111; box-shadow:0 0 0 3px #fff;
}
.mls-card{ max-width:46%; }
.side-left  .mls-card{ float:left;  text-align:right; padding-right:24px; }
.side-right .mls-card{ float:right; text-align:left;  padding-left:24px; }
.mls-date{ color:#374151; font-weight:700; margin-bottom:4px; }
.mls-title{ font-weight:700; }
.mls-desc{ color:#4b5563; }

/* chips */
.mls-badge{
  display:inline-block; margin-right:8px; padding:2px 8px; font-size:12px;
  border-radius:999px; border:1px solid transparent; white-space:nowrap;
}
.is-award     { background:#fff7ed; border-color:#fdba74; color:#9a3412; }  /* orange */
.is-admission { background:#f5f3ff; border-color:#c4b5fd; color:#5b21b6; }  /* violet */
.is-exam      { background:#fff1f2; border-color:#fda4af; color:#9f1239; }  /* rose */

/* links inside milestone text */
.ext-link{ color:inherit; text-decoration:underline; text-underline-offset:2px }
.ext-link:hover{ text-decoration:underline }

/* responsive */
@media (max-width:760px){
  .mls-axis{ left:18px; }
  .mls-dot{ left:18px; transform:none; }
  .mls-card{ float:none; max-width:none; padding-left:36px; padding-right:0; text-align:left; }
}
